# Terraform ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³ç”Ÿæˆè¨­å®š
# terraform-arch-mapper ã‚¹ã‚­ãƒ«ã§ä½¿ç”¨

# ãƒ—ãƒ­ãƒã‚¤ãƒ€åˆ¥ã‚¢ã‚¤ã‚³ãƒ³å®šç¾©
provider_icons:
  # AWS
  aws:
    prefix: 'aws_'
    icon: 'â˜ï¸'
    color: '#FF9900'
    resources:
      aws_instance: 'ğŸ–¥ï¸'
      aws_lambda_function: 'Î»'
      aws_s3_bucket: 'ğŸª£'
      aws_rds_instance: 'ğŸ—„ï¸'
      aws_dynamodb_table: 'ğŸ“Š'
      aws_vpc: 'ğŸŒ'
      aws_subnet: 'ğŸ“¡'
      aws_security_group: 'ğŸ”’'
      aws_iam_role: 'ğŸ‘¤'
      aws_iam_policy: 'ğŸ“œ'
      aws_lb: 'âš–ï¸'
      aws_ecs_cluster: 'ğŸ³'
      aws_eks_cluster: 'â˜¸ï¸'
      aws_cloudwatch_log_group: 'ğŸ“‹'
      aws_sns_topic: 'ğŸ“¢'
      aws_sqs_queue: 'ğŸ“¬'

  # Google Cloud
  google:
    prefix: 'google_'
    icon: 'ğŸ”µ'
    color: '#4285F4'
    resources:
      google_compute_instance: 'ğŸ–¥ï¸'
      google_cloud_run_service: 'ğŸƒ'
      google_storage_bucket: 'ğŸª£'
      google_sql_database_instance: 'ğŸ—„ï¸'
      google_container_cluster: 'â˜¸ï¸'
      google_pubsub_topic: 'ğŸ“¢'
      google_bigquery_dataset: 'ğŸ“Š'

  # Azure
  azure:
    prefix: 'azurerm_'
    icon: 'ğŸ”·'
    color: '#0078D4'
    resources:
      azurerm_virtual_machine: 'ğŸ–¥ï¸'
      azurerm_function_app: 'âš¡'
      azurerm_storage_account: 'ğŸª£'
      azurerm_mssql_server: 'ğŸ—„ï¸'
      azurerm_kubernetes_cluster: 'â˜¸ï¸'
      azurerm_app_service: 'ğŸŒ'

  # ãã®ä»–
  default:
    icon: 'ğŸ“„'
    color: '#888888'

# ãƒªã‚½ãƒ¼ã‚¹ã‚«ãƒ†ã‚´ãƒªï¼ˆã‚°ãƒ«ãƒ¼ãƒ—åŒ–ç”¨ï¼‰
resource_categories:
  compute:
    name: Compute
    patterns:
      - '*_instance'
      - '*_function*'
      - '*_lambda*'
      - '*_ecs_*'
      - '*_eks_*'
      - '*_container*'

  storage:
    name: Storage
    patterns:
      - '*_bucket'
      - '*_storage*'
      - '*_s3_*'

  database:
    name: Database
    patterns:
      - '*_rds_*'
      - '*_dynamodb*'
      - '*_sql_*'
      - '*_database*'

  network:
    name: Network
    patterns:
      - '*_vpc*'
      - '*_subnet*'
      - '*_security_group*'
      - '*_lb*'
      - '*_load_balancer*'

  identity:
    name: Identity
    patterns:
      - '*_iam_*'
      - '*_role*'
      - '*_policy*'

  messaging:
    name: Messaging
    patterns:
      - '*_sns_*'
      - '*_sqs_*'
      - '*_pubsub*'
      - '*_queue*'
      - '*_topic*'

# å‡ºåŠ›è¨­å®š
output:
  mermaid:
    graph_direction: TD # TD (top-down), LR (left-right), etc.
    default_filename: terraform_architecture.mmd
    node_style: |
      classDef compute fill:#E1F5FE,stroke:#01579B
      classDef storage fill:#FFF3E0,stroke:#E65100
      classDef database fill:#E8F5E9,stroke:#1B5E20
      classDef network fill:#F3E5F5,stroke:#4A148C
      classDef identity fill:#FFEBEE,stroke:#B71C1C
      classDef messaging fill:#FFFDE7,stroke:#F57F17

  plantuml:
    default_filename: terraform_architecture.puml

# ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ãƒƒãƒ—æ¤œå‡ºãƒ‘ã‚¿ãƒ¼ãƒ³
relationship_patterns:
  - pattern: '${type}.${name}'
    description: Standard Terraform reference
  - pattern: 'depends_on'
    description: Explicit dependency
  - pattern: 'source = module'
    description: Module reference
